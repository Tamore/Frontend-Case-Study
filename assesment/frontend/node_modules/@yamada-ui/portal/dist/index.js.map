{"version":3,"sources":["../src/index.ts","../src/container-portal.tsx","../src/portal-provider.tsx","../src/default-portal.tsx","../src/portal.tsx"],"sourcesContent":["export { ContainerPortal } from \"./container-portal\"\nexport { DefaultPortal } from \"./default-portal\"\nexport { Portal } from \"./portal\"\nexport type { PortalProps } from \"./portal\"\n","import type { FC, PropsWithChildren, RefObject } from \"react\"\nimport { useSafeLayoutEffect } from \"@yamada-ui/utils\"\nimport { useMemo, useState } from \"react\"\nimport { createPortal } from \"react-dom\"\nimport { PortalProvider } from \"./portal-provider\"\n\ninterface ContainerPortalProps extends PropsWithChildren {\n  containerRef: RefObject<HTMLElement | null>\n  appendToParentPortal?: boolean\n}\n\nexport const ContainerPortal: FC<ContainerPortalProps> = ({\n  appendToParentPortal,\n  children,\n  containerRef,\n}) => {\n  const parent = containerRef.current\n  const host =\n    parent ?? (typeof window !== \"undefined\" ? document.body : undefined)\n\n  const portal = useMemo(() => {\n    if (!parent) return\n\n    const { ownerDocument } = parent\n\n    const node = ownerDocument.createElement(\"div\")\n\n    node.className = \"ui-portal\"\n\n    return node\n  }, [parent])\n\n  const [, forceUpdate] = useState({})\n\n  useSafeLayoutEffect(() => forceUpdate({}), [])\n\n  useSafeLayoutEffect(() => {\n    if (!portal || !host) return\n\n    host.appendChild(portal)\n\n    return () => {\n      host.removeChild(portal)\n    }\n  }, [portal, host])\n\n  return host && portal\n    ? createPortal(\n        <PortalProvider value={appendToParentPortal ? portal : null}>\n          {children}\n        </PortalProvider>,\n        portal,\n      )\n    : null\n}\n","import { createContext } from \"@yamada-ui/utils\"\n\ntype PortalContext = HTMLDivElement | null\n\nexport const [PortalProvider, usePortal] = createContext<PortalContext>({\n  name: \"PortalContext\",\n  strict: false,\n})\n","import type { FC, PropsWithChildren } from \"react\"\nimport { useSafeLayoutEffect } from \"@yamada-ui/utils\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { createPortal } from \"react-dom\"\nimport { PortalProvider, usePortal } from \"./portal-provider\"\n\nexport const DefaultPortal: FC<\n  PropsWithChildren<{ appendToParentPortal: boolean }>\n> = ({ appendToParentPortal, children }) => {\n  const [node, setNode] = useState<HTMLElement | null>(null)\n  const el = useRef<HTMLDivElement | null>(null)\n\n  const [, forceUpdate] = useState({})\n\n  useEffect(() => forceUpdate({}), [])\n\n  const parent = usePortal()\n\n  useSafeLayoutEffect(() => {\n    if (!node) return\n\n    const { ownerDocument } = node\n    const host = appendToParentPortal\n      ? (parent ?? ownerDocument.body)\n      : ownerDocument.body\n\n    el.current = ownerDocument.createElement(\"div\")\n    el.current.className = \"ui-portal\"\n\n    host.appendChild(el.current)\n    forceUpdate({})\n\n    const portalNode = el.current\n\n    return () => {\n      if (host.contains(portalNode)) host.removeChild(portalNode)\n    }\n  }, [node])\n\n  return el.current ? (\n    createPortal(\n      <PortalProvider value={el.current}>{children}</PortalProvider>,\n      el.current,\n    )\n  ) : (\n    <span ref={(el) => (el ? setNode(el) : undefined)} />\n  )\n}\n","import type { ReactNode, RefObject } from \"react\"\nimport { ContainerPortal } from \"./container-portal\"\nimport { DefaultPortal } from \"./default-portal\"\n\nexport interface PortalProps {\n  children: ReactNode\n  /**\n   * If `true`, the portal will check if it is within a parent portal\n   * and append itself to the parent's portal node.\n   * This provides nesting for portals.\n   *\n   * If `false`, the portal will always append to `document.body`\n   * regardless of nesting. It is used to opt out of portal nesting.\n   *\n   * @default true\n   */\n  appendToParentPortal?: boolean\n  /**\n   * The `ref` to the component where the portal will be attached to.\n   */\n  containerRef?: RefObject<HTMLElement | null>\n  /**\n   * If `true`, the forwarding will be disabled.\n   */\n  isDisabled?: boolean\n}\n\n/**\n * `Portal` is a component that renders elements outside of the current `DOM` hierarchy.\n *\n * @see Docs https://yamada-ui.com/components/other/portal\n */\nexport const Portal = ({\n  appendToParentPortal = true,\n  children,\n  containerRef,\n  isDisabled,\n}: PortalProps) => {\n  if (isDisabled) return children\n\n  return containerRef ? (\n    <ContainerPortal\n      containerRef={containerRef}\n      {...{ appendToParentPortal, children }}\n    />\n  ) : (\n    <DefaultPortal {...{ appendToParentPortal, children }} />\n  )\n}\n\nPortal.displayName = \"Portal\"\nPortal.__ui__ = \"Portal\"\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACCA,IAAAA,gBAAoC;AACpC,mBAAkC;AAClC,uBAA6B;;;ACH7B,mBAA8B;AAIvB,IAAM,CAAC,gBAAgB,SAAS,QAAI,4BAA6B;AAAA,EACtE,MAAM;AAAA,EACN,QAAQ;AACV,CAAC;;;ADyCO;AArCD,IAAM,kBAA4C,CAAC;AAAA,EACxD;AAAA,EACA;AAAA,EACA;AACF,MAAM;AACJ,QAAM,SAAS,aAAa;AAC5B,QAAM,OACJ,0BAAW,OAAO,WAAW,cAAc,SAAS,OAAO;AAE7D,QAAM,aAAS,sBAAQ,MAAM;AAC3B,QAAI,CAAC,OAAQ;AAEb,UAAM,EAAE,cAAc,IAAI;AAE1B,UAAM,OAAO,cAAc,cAAc,KAAK;AAE9C,SAAK,YAAY;AAEjB,WAAO;AAAA,EACT,GAAG,CAAC,MAAM,CAAC;AAEX,QAAM,CAAC,EAAE,WAAW,QAAI,uBAAS,CAAC,CAAC;AAEnC,yCAAoB,MAAM,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;AAE7C,yCAAoB,MAAM;AACxB,QAAI,CAAC,UAAU,CAAC,KAAM;AAEtB,SAAK,YAAY,MAAM;AAEvB,WAAO,MAAM;AACX,WAAK,YAAY,MAAM;AAAA,IACzB;AAAA,EACF,GAAG,CAAC,QAAQ,IAAI,CAAC;AAEjB,SAAO,QAAQ,aACX;AAAA,IACE,4CAAC,kBAAe,OAAO,uBAAuB,SAAS,MACpD,UACH;AAAA,IACA;AAAA,EACF,IACA;AACN;;;AErDA,IAAAC,gBAAoC;AACpC,IAAAC,gBAA4C;AAC5C,IAAAC,oBAA6B;AAsCvB,IAAAC,sBAAA;AAnCC,IAAM,gBAET,CAAC,EAAE,sBAAsB,SAAS,MAAM;AAC1C,QAAM,CAAC,MAAM,OAAO,QAAI,wBAA6B,IAAI;AACzD,QAAM,SAAK,sBAA8B,IAAI;AAE7C,QAAM,CAAC,EAAE,WAAW,QAAI,wBAAS,CAAC,CAAC;AAEnC,+BAAU,MAAM,YAAY,CAAC,CAAC,GAAG,CAAC,CAAC;AAEnC,QAAM,SAAS,UAAU;AAEzB,yCAAoB,MAAM;AACxB,QAAI,CAAC,KAAM;AAEX,UAAM,EAAE,cAAc,IAAI;AAC1B,UAAM,OAAO,uBACR,0BAAU,cAAc,OACzB,cAAc;AAElB,OAAG,UAAU,cAAc,cAAc,KAAK;AAC9C,OAAG,QAAQ,YAAY;AAEvB,SAAK,YAAY,GAAG,OAAO;AAC3B,gBAAY,CAAC,CAAC;AAEd,UAAM,aAAa,GAAG;AAEtB,WAAO,MAAM;AACX,UAAI,KAAK,SAAS,UAAU,EAAG,MAAK,YAAY,UAAU;AAAA,IAC5D;AAAA,EACF,GAAG,CAAC,IAAI,CAAC;AAET,SAAO,GAAG,cACR;AAAA,IACE,6CAAC,kBAAe,OAAO,GAAG,SAAU,UAAS;AAAA,IAC7C,GAAG;AAAA,EACL,IAEA,6CAAC,UAAK,KAAK,CAACC,QAAQA,MAAK,QAAQA,GAAE,IAAI,QAAY;AAEvD;;;ACNI,IAAAC,sBAAA;AATG,IAAM,SAAS,CAAC;AAAA,EACrB,uBAAuB;AAAA,EACvB;AAAA,EACA;AAAA,EACA;AACF,MAAmB;AACjB,MAAI,WAAY,QAAO;AAEvB,SAAO,eACL;AAAA,IAAC;AAAA;AAAA,MACC;AAAA,MACC,GAAG,EAAE,sBAAsB,SAAS;AAAA;AAAA,EACvC,IAEA,6CAAC,iBAAe,GAAG,EAAE,sBAAsB,SAAS,GAAG;AAE3D;AAEA,OAAO,cAAc;AACrB,OAAO,SAAS;","names":["import_utils","import_utils","import_react","import_react_dom","import_jsx_runtime","el","import_jsx_runtime"]}